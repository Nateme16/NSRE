a=1
rm(list=ls())
load("//Aa.ad.epa.gov/ord/NAR/Users/EC1/NMerri02/Net MyDocuments/Rec_participation/NSRE/NSRE all/NSRE2000all.RData")
sw=subset(NSRE2000all, swsday==1)
dist=sw['swdist1']
dist=unlist(dist)
dist=dist[dist>0]
hist(dist, breaks=100, xlim=c(0,1000))
rm(list=ls())
load("//Aa.ad.epa.gov/ord/NAR/Users/EC1/NMerri02/Net MyDocuments/Rec_participation/NSRE/NSRE all/NSRE2000all.RData")
sw=subset(NSRE2000all, swsday==1)
dist=sw['swdist1']
dist=unlist(dist)
dist=dist[dist>0]
hist(dist, breaks=1000, xlim=c(0,1000))
> hist(dist, breaks=2000, xlim=c(0,1000))
> hist(dist, breaks=2000, xlim=c(0,1000))
> hist(dist, breaks=200, xlim=c(0,1000))
hist(dist, breaks=2000, xlim=c(0,1000))
summary(dist)
hist(dist, breaks=2000, xlim=c(0,500))
install.packages("fitdistrplus")
library(fitdistrplus)
f <- apply(dist,2,fitdist,"lnorm")
f <- apply(dist,1,fitdist,"lnorm")
f <- dim(dist)
dim(dist)
dist
a=fitdist(dist,"gamma")
a=fitdist(dist,"gamma",method="mle")
a=fitdist(dist,"gamma")
a=fitdist(dist,"gamma",method="mle")
a=fitdist(dist,"gamma",method="mme")
plot(a)
a=apply(dist,"gamma",method="mme")
a=fitdist(dist,"gamma",method="mme")
summary(a)
desncomp(a)
denscomp(a)
a=fitdist(dist,"gamma",method="mme")
plot(a)
plot(a,xlim=c(0,500))
plot(a,xlim=c(0,1000))
summary(a)
summary(dist)
type(dist)
class(dist)
dist=as.numeric(dist)
class(dist)
a=fitdist(dist,"gamma",method="mle")
a=fitdist(dist,"gamma",method="mme")
a
dist
dist=dist[dist!="NA"]
dist
a=fitdist(dist,"gamma",method="mme")
plot(a)
a
summary(a)
dist
a=fitdist(dist,"norm")
a=fitdist(dist,"norm",method="mme")
a
dist
fitdist(dist,"norm")
fitdist(dist,"norm",method="mme")
distlist()
fitdist(dist,"exponential",method="mme")
fitdist(dist,"lognormal",method="mme")
fitdistr\(dist,"lognormal",method="mme")
fitdistr(dist,"lognormal",method="mme")
load(fitdistr)
install.packages("fitdistr")
load(fitdistr)
load(fitdistrplus)
library(fitdistrplus)
fw=fitdist(dist,"weibull")
class(dist)
dist
dist=dist[dist!="NA"]
dist
fw=fitdist(dist,"weibull")
fw=fitdist(dist,"norm")
fw=fitdist(dist,"gamma")
fw=fitdist(dist,"gamma",method="mme")
fw
fw=fitdist(dist,"gamma",method="mle",lower = c(0, 0)))
fw=fitdist(dist,"gamma",method="mle",lower = c(0, 0))
hist(dist, breaks=100, xlim=c(0,1000))
hist(dist, breaks=2000, xlim=c(0,1000))
rows(dist)
plot(desnity(dist))
plot(density(dist))
dist
dist=dist[dist!="NA"]
dist
dist=na.omit(dist)
dist
fitdist(dist,"gamma")
dist
class(dist)
fitdist(dist,"gamma")
fitdist(as.numeric(dist),"gamma")
fitdist(dist,"gamma",method="MLE")
fitdist(dist,"gamma",method="mle")
dist=as.numeric(na.omit(dist))
fitdist(dist,"gamma",method="MLE")
dist=as.numeric(na.omit(dist))
dist
class(dist)
fitdist(dist,"gamma",method="MLE")
fitdist(dist,"gamma",method="mle")
a=fitdist(dist,"gamma",method="mle")
plot(a)
dist=dist[dist<500]
dist
a=fitdist(dist,"gamma",method="mle")
plot(dist)
plot(a)
b=fitdist(dist,"gamma",method="mme")
plot(b)
gofstat(list(a,b))
summary(a)
summary(b)
test=gamma(shape=.73,rate=.011)
test=gamma(100,shape=.73,rate=.011)
test=dgamma(100,shape=.73,rate=.011)
test
test=dgamma(5,shape=.73,rate=.011)
test
test=dgamma(1,shape=.73,rate=.011)
test
test=dgamma(.01,shape=.73,rate=.011)
test
NSRE2000all$zipcode
istall.packages("zipcode")
install.packages("zipcode")
load.packages(zipcode)
library(zipcode)
data(zipcode)
NSRE2000all$zipcode=zips
zips=NSRE2000all$zipcode
zips
zips[zips<0]="NA"
zips
zipcode$state[zips==Zipcode$zip]
zipcode$state[zips==zipcode$zip]
test=merge(zips, zipcode, by.x=zips,by.y='zip'')
)
)
()
adfd
fad
fa
df
dfa
asdf
00000000)))))))))))))))))))
library(zipcode)
c
sw
library(gtools)
library(zipcode)
#this is the directory where the NSRE data is located
setwd("//Aa.ad.epa.gov/ord/NAR/Users/EC1/NMerri02/Net MyDocuments/Rec_participation/NSRE/NSRE all")
#converts from sas7bdat to r dataframes
data5=read.sas7bdat.parso("version5.sas7bdat")
""
''
test=merge(zips, zipcode, by.x=zips,by.y='zip')
test=merge(zips, zipcode, by.x=zips$,by.y='zip')
zips$
hr
zips
zips=NSRE2000all$zipcode
test=merge(zips, zipcode, by.x=zips,by.y='zip')
test=merge(NSRE2000all, zipcode, by.x='zipcode',by.y='zip')
test$state
test=NSRE2000all
test$zipcodes
test$zipcode
test$zipcode2=clean.zipcodes(test$zipcode)
test$zipcode1
test$zipcode2
test=merge(test, zipcode, by.x='zipcode2',by.y='zip')
test$state
test
test$state.y
test$state.x
test$state.x
test=merge(test, zipcode, by.x='zipcode2', by.y='zip')
test=NSRE2000all
test$zipcode2=clean.zipcodes(test$zipcode)
summary(test)
ls(test)
test2=merge(test, zipcode, by.x='zipcode2', by.y='zip')
ls(test2)
test2$state.x
test2$state.y
test3$state=test2$state.x
test3$state=data.frame(test2$state.x)
test3=data.frame(test2$state.x)
View(test3)
test3$zip=test2$zipcode
View(test3)
save.image("C:/Users/nmerri02/Desktop/GitHub/NSRE/NSRE_zip.RData")
rm(list=ls(sw,test,test2,test3,a,b,dust,f,fw,zuos))
rm(list=ls(sw,test,test2,test3,a,b,dust,f,fw,zips))
rm(list=ls(sw,test,test2,test3,a,b,dist,f,fw,zips))
save(NSRE2000all)
save(NSRE2000all,"NSRE2000all2")
save(NSRE2000all,"NSRE2000all2.RData")
rm(list=ls())
load("C:/Users/nmerri02/Desktop/GitHub/NSRE/NSRE_zip.RData")
sum(NSRE200all$zip > 0)
sum(NSRE2000all$zip > 0)
sum(NSRE2000all$zipcode > 0)
NSRE2000all$zipcodes
NSRE2000all$zipcode
NSRE2000all$zipcode>0
sum(NSRE2000all$zipcode>0)
NSRE2000all_zip=merge(NSRE2000all,zipcode,by.x='zipcode',by.y='zip')
NSRE2000all_zip$state.x
e(NSRE2000all,zipcode,by.x='zipcode',by.y='zip')
#writes it all to on stata file
write.dta(NSRE2000all_zip, "//Aa.ad.epa.gov/ord/NAR/Users/EC1/NMerri02/Net MyDocuments/Rec_participation/NSRE/NSRE all/NSRE2000all_zip.dta")
library(sas7bdat)
library(sas7bdat.parso)
library(foreign)
library(plyr)
library(haven)
library(gtools)
library(zipcode)
write.dta(NSRE2000all_zip, "//Aa.ad.epa.gov/ord/NAR/Users/EC1/NMerri02/Net MyDocuments/Rec_participation/NSRE/NSRE all/NSRE2000all_zip.dta")
NSRE2000all[NSRE2000all==""] <- NA #stata doesnt like blanks, replaces them with NA's
write.dta(NSRE2000all_zip, "//Aa.ad.epa.gov/ord/NAR/Users/EC1/NMerri02/Net MyDocuments/Rec_participation/NSRE/NSRE all/NSRE2000all_zip.dta")
write.dta(NSRE2000all_zip, "//Aa.ad.epa.gov/ord/NAR/Users/EC1/NMerri02/Net MyDocuments/Rec_participation/NSRE/NSRE all/NSRE2000all_zip.dta")
NSRE2000all_zip[NSRE2000all_zip==""] <- NA #stata doesnt like blanks, replaces them with NA's
write.dta(NSRE2000all_zip, "//Aa.ad.epa.gov/ord/NAR/Users/EC1/NMerri02/Net MyDocuments/Rec_participation/NSRE/NSRE all/NSRE2000all_zip.dta")
NSRE2000all_zip$state.x
NSRE2000all_zip$state.x=="MA"
sum(NSRE2000all_zip$state.x=="MA")
sum(NSRE2000all_zip$state.x=="TX")
sum(NSRE2000all_zip$state.x=="CT")
sum(NSRE2000all_zip$state.x=="RI")
sum(NSRE2000all_zip$state.x=="NH")
sum(NSRE2000all_zip$state.x=="VT")
View(NSRE2000all)
NSRE2000all$zip2=clean.zipcodes(NSRE2000all$zipcode)
View(NSRE2000all)
NSRE2000all$zip2
rm(list=ls())
library(sas7bdat)
library(sas7bdat.parso)
library(foreign)
library(plyr)
library(haven)
library(gtools)
library(zipcode)
load("C:/Users/nmerri02/Desktop/GitHub/NSRE/NSRE_zip.RData")
NSRE2000all$zip2=clean.zipcodes(NSRE2000all$zipcode)
NSRE2000all_zip=merge(NSRE2000all,zipcode,by.x='zipcode',by.y='zip')
rm(list=ls())
library(sas7bdat)
library(sas7bdat.parso)
library(foreign)
library(plyr)
library(haven)
library(gtools)
library(zipcode)
load("C:/Users/nmerri02/Desktop/GitHub/NSRE/NSRE_zip.RData")
NSRE2000all$zip2=clean.zipcodes(NSRE2000all$zipcode)
NSRE2000all_zip=merge(NSRE2000all,zipcode,by.x='zip2',by.y='zip')
NSRE2000all$zip2
rm(list=ls())
library(sas7bdat)
library(sas7bdat.parso)
library(foreign)
library(plyr)
library(haven)
library(gtools)
library(zipcode)
load("C:/Users/nmerri02/Desktop/GitHub/NSRE/NSRE_zip.RData")
NSRE2000all$zip2=clean.zipcodes(NSRE2000all$zipcode)
NSRE2000all_zip=merge(NSRE2000all,zipcode,by.x='zip2',by.y='zip')
ls(NSRE2000all_zip)
NSRE2000all_zip$state.x
#writes it all to on stata file
NSRE2000all_zip[NSRE2000all_zip==""] <- NA #stata doesnt like blanks, replaces them with NA's
write.dta(NSRE2000all_zip, "//Aa.ad.epa.gov/ord/NAR/Users/EC1/NMerri02/Net MyDocuments/Rec_participation/NSRE/NSRE all/NSRE2000all_zip.dta")
NSRE=NSRE2000all_zip
NSRE2=NSRE[NSRE$state.x="MA"]
NSRE2=NSRE[NSRE$state.x=="MA"]
NSRE$state.x
NSRE$state.x=="MA"
sum(NSRE$state.x=="MA")
NSRE2=NSRE[NSRE$state.x=="MA"]
NSRE2=NSRE[NSRE$state.x=="MA",]
View(NSRE2)
NSRE2$beachd
sum(NSRE2$beachd[NSRE2$beachd>0])
[NSRE2$beachd>0]
NSRE2[NSRE2$beachd>0]
NSRE2[NSRE2$beachd>0,]
NSRE2$beachd[NSRE2$beachd>0,]
NSRE2$beachd[NSRE2$beachd>0]
na.omit(NSRE2$beachd[NSRE2$beachd>0])
beachdays=na.omit(NSRE2$beachd[NSRE2$beachd>0])
summary(beachdays)
hist(beachdays)
hist(beachdays,100)
hist(beachdays,200)
beachdays=na.omit(NSRE2$beachd[NSRE2$beachd>=0])
ls(NSRE2)
NSRE2=NSRE[NSRE$beach_d=1]
NSRE2=NSRE[NSRE$beach_d==1]
NSRE2$beach_d
NSRE$beach_d
ls(NSRE)
NSRE$beach_s
NSRE2=NSRE[NSRE$beach_s=1]
NSRE2=NSRE[NSRE$beach_s==1]
NSRE2=NSRE[NSRE$beach_s==1,]
NSRE2$beach_s
na.omit(NSRE2$beach_s)
NSRE2$beachd
beachdays=na.omit(NSRE2$beachd[NSRE2$beachd>=0])
hist(beachdays,500)
summar(beachdays)
summary(beachdays)
beachdaysUS=na.omit(NSRE2$beachd[NSRE2$beachd>=0])
NSRE2=NSRE[NSRE$state.x=="MA",]
beachdaysMA=na.omit(NSRE2$beachd[NSRE2$beachd>=0])
summary(beachdaysMA,beachdaysUS)
summary(beachdaysMA)
summary(beachdaysUS)
tab(beachdaysMA)
table(beachdeaysMA)
NSRE=NSRE2000all_zip
NSRE$beach_s
sum(NSRE$beach_s[NSRE$beach_s==1])
sum(na.omit(NSRE$beach_s[NSRE$beach_s==1]))
View(sw)
11126/23910
length(NSRE)
width(NSRE)
nrow(NSRE)
NSRE_MA=NSRE[NSRE$state.x=="MA",]
beachies=sum(na.omit(NSRE_MA$beach_s[NSRE_MA$beach_s==1]))
beach_participation_US=beachies/nrow(NSRE_MA)
beach_participation_MA
beach_participation_US
beachdaysMA=na.omit(NSRE$beachd[NSRE$beachd>=0])
beachdaysUS=na.omit(NSRE$beachd[NSRE$beachd>=0])
beachdaysUs
beachdaysUS
beachdaysMA=na.omit(NSRE_MA$beachd[NSRE_MA$beachd>=0])
NSRE_NE=NSRE[NSRE$state.x=="MA"|NSRE$state.x=="RI",]
NSRE_NE=NSRE[NSRE$state.x=="MA"|NSRE$state.x=="RI"|NSRE$state.x=="CT"|NSRE$state.x=="NH"|NSRE$state.x=="ME"|NSRE$state.x=="VT",]
beachies=sum(na.omit(NSRE_NE$beach_s[NSRE_NE$beach_s==1]))
beach_participation_NE=beachies/nrow(NSRE_NE)
beach_participation_NE
beachies=sum(na.omit(NSRE_NE$beach_s[NSRE_NE$beach_s==1]))
beach_participation_NE=beachies/nrow(NSRE_NE)
beach_participation_NE
beachdaysNE=na.omit(NSRE_NE$beachd[NSRE_NE$beachd>=0])
beachdaysNE
summary(beachdaysNE)
summary(beachdaysMA)
summary(beachdaysNE)
summary(beachdaysUS)
summary(beach_participation_NE)
summary(beach_participation_MA)
#get beachgoing participation rate US
NSRE=NSRE2000all_zip
beachies=sum(na.omit(NSRE$beach_s[NSRE$beach_s==1]))
beach_participation_US=beachies/nrow(NSRE)
#get beachgoing reate US
beachdaysUS=na.omit(NSRE$beachd[NSRE$beachd>=0])
#get beachgoing participation rate MA
NSRE_MA=NSRE[NSRE$state.x=="MA",]
beachies=sum(na.omit(NSRE_MA$beach_s[NSRE_MA$beach_s==1]))
beach_participation_MA=beachies/nrow(NSRE_MA)
#get beachgoing rate MA
beachdaysMA=na.omit(NSRE_MA$beachd[NSRE_MA$beachd>=0])
#get beachgoing participation rate NE
NSRE_NE=NSRE[NSRE$state.x=="MA"|NSRE$state.x=="RI"|NSRE$state.x=="CT"|NSRE$state.x=="NH"|NSRE$state.x=="ME"|NSRE$state.x=="VT",]
beachies=sum(na.omit(NSRE_NE$beach_s[NSRE_NE$beach_s==1]))
beach_participation_NE=beachies/nrow(NSRE_NE)
#get beachgoing rate NE
beachdaysNE=na.omit(NSRE_NE$beachd[NSRE_NE$beachd>=0])
beach_participation_MA
nrow(NSRE_MA)
nrow(NSRE_NE)
summary(beachdaysMA)
summary(beachdaysNE)
summary(beachdaysUS)
sw=subset(NSRE, swsday==1)
sw
swNE=sw[sw$state.x=="RI"|sw$state.x=="CT"|sw$state.x=="NH"|sw$state.x=="ME"|sw$state.x=="VT",]
distNE=swNE['swdist1']
distNE
distNE=swNE['swdist1'>0]
distNe
distNE
distNE=distNE[distNE>0]
warnings()
distNE=unlist(swNE['swdist1'])
distNE=distNE[distNE>0]
distNE
hist(distNE)
hist(distNE,bins=100)
hist(distNE,100)
sort(distNE)
timeNE=unlist(swNE['swtime1'])
timeNE=timeNE[distNE>0]
hist(timeNE,100)
timeNE=unlist(swNE['swtime1'])
timeNE=timeNE[timeNE>0]
hist(timeNE)
hist(timeNE,200)
sort(timeNE)
distNE=unlist(swNE['swdist1'])
distNE=distNE[distNE>0]
timeNE=unlist(swNE['swtime1'])
timeNE=timeNE[distNE>0]
plot(distNE,timeNe)
plot(distNE,timeNE)
sw=subset(NSRE, swsday==1)
swNE=sw[sw$state.x=="RI"|sw$state.x=="CT"|sw$state.x=="NH"|sw$state.x=="ME"|sw$state.x=="VT",]
distNE=unlist(swNE['swdist1'])
distNE=distNE[distNE>0]
timeNE=unlist(swNE['swtime1'])
timeNE=timeNE[distNE>0]
distNE=unlist(swNE['swdist1'])
distNE=distNE
timeNE=unlist(swNE['swtime1'])
timeNE=timeNE
plot(distNE,timeNe)
plot(distNE,timeNE)
distNE=unlist(swNE[,c('swdist1','swtime1'])
swNE['swdist1','swtime1']
swNE[,'swdist1','swtime1']
swNE[,c('swdist1','swtime1')]
dist_timeNE=unlist(swNE['swdist1','swtime1'])
swUS=subset(NSRE, swsday==1)
swUS=subset(NSRE, swsday==1)
swpart$swsday
swUS$swsday
NSRE$swsday
NSRE$swsday[swsday==8]
NSRE$swsday[NSRE4swsday==8]
NSRE$swsday[NSRE$swsday==8]
NSRE$swsday[NSRE$swsday==9]
NSRE$swsday
swUS=subset(NSRE,swsday<=2)
swUS$swsday
sum(swUS$swsday==1)
sum(swUS$swsday==1)/nrow(swUS)
nrow(swUs)
nrow(swUS)
beach_participation_US
swUS,swUS$swtrips
swUS=subset(NSRE,swsday<=2)
swUS_part=sum(swUS$swsday==1)/nrow(swUS)
swUS$swtrips
swUS$swtrips>=0
swtripsUS=subset(swUS,swUS$swtrips>=0)
summary(swtripsUS)
swtripsUS=subset(swUS,swUS$swtrips>=0)
swtripsUS$swtrips
summary(swtripsUS$swtrips)
\
swNE=swUS[swUS$state.x=="MA"|NSRE$state.x=="RI"|NSRE$state.x=="CT"|NSRE$state.x=="NH"|NSRE$state.x=="ME"|NSRE$state.x=="VT",]
swNE=swUS[swUS$state.x=="MA"|swUS$state.x=="RI"|swUS$state.x=="CT"|swUS$state.x=="NH"|swUS$state.x=="ME"|swUS$state.x=="VT",]
swNE_part=sum(swNe$swsday==1)/nrow(swNE)
swNE_part=sum(swNE$swsday==1)/nrow(swNE)
swNE_part
swtripsNE=subset(swNE,swNE$swtrips>=0)
summary(swtripsNE$swtrips)
swMA=swUS[swUS$state.x=="MA",]
swMA_part=sum(swMA$swsday==1)/nrow(swMA)
swtripsMA=subset(swMA,swMA$swtrips>=0)
summary(swtripsMA$swtrips)
NSRE_dist_US=subset(NSRE,NSRE$beach_s==1)
NSRE_dist_US=subset(NSRE,NSRE$swsday==1)
dist_US=NSRE_dist_US[NSRE_dist_US$swdist1]
SRE_dist_US$swdist1
NSRE_dist_US$swdist1
dist_US=NSRE_dist_US$swdist1
dist_US=NSRE_dist_US$swdist1[NSRE_dist_US$swdist1>0]
dist_US
NSRE_dist_NE=subset(NSRE_NE,NSRE_NE$swsday==1)
dist_NE=NSRE_dist_NE$swdist1[NSRE_dist_NE$swdist1>0]
summary(distNE)
NSRE_dist_NE=subset(NSRE_NE,NSRE_NE$swsday==1)
dist_NE=NSRE_dist_NE$swdist1[NSRE_dist_NE$swdist1>0]
dist_NE
summary(dist_NE
)
NSRE_dist_MA=subset(NSRE_MA,NSRE_MA$swsday==1)
dist_MA=NSRE_dist_MA$swdist1[NSRE_dist_MA$swdist1>0]
summary(dist_MA)
time_US=NSRE_dist_US$swtime1[NSRE_dist_US$swtime1>0]
time_US
time_MA=NSRE_dist_MA$swtime1[NSRE_dist_MA$swtime1>0]
time_MA
time_NE=NSRE_dist_NE$swtime1[NSRE_dist_NE$swtime1>0]
hist(time_NE)
hist(time_NE,100)
sort(time_NE)
sort(time_US)
